# NVIDIA k8s DRA Driver GPU Bundle

```shell
Generated from Cloud Native Stack Recipe  
Timestamp: {{ .Script.Timestamp }}
Bundler Version: {{ .Script.Version }}
Recipe Version: {{ .Script.RecipeVersion }}
```

## Overview

This bundle contains everything needed to deploy the NVIDIA DRA Driver GPU on your Kubernetes cluster.

## Contents

- `values.yaml` - Helm values configuration
- `scripts/install.sh` - Installation script
- `scripts/uninstall.sh` - Uninstallation script
- `checksums.txt` - File integrity checksums

## Prerequisites

- Kubernetes cluster (1.21+)
- Helm 3
- kubectl configured
- gpu-operator installed 
- NVIDIA GB200 GPUs

## Installation

### Option 1: Automated Installation

Run the installation script to automatically apply manifests and install the GPU Operator:

```bash
chmod +x scripts/install.sh
./scripts/install.sh
```

### Option 2: Manual Installation

Step-by-step installation for more control over the process:

```bash
# 1. Add Helm repository
helm repo add nvidia {{ .Script.HelmRepository }}
helm repo update

# 2. Create namespace
kubectl create namespace {{ .Script.Namespace }}

# 3. Apply manifests (ConfigMaps and ClusterPolicy)
kubectl apply -f manifests/ -n {{ .Script.Namespace }}

# 4. Install DRA Driver with Helm
helm upgrade --install dra-driver nvidia/k8s-dra-driver \
  --namespace {{ .Script.Namespace }} \
  {{- if .Script.HelmChartVersion }}
  --version {{ .Script.HelmChartVersion }} \
  {{- end }}
  --values values.yaml \
  --wait
```

## Verification

Check the DRA driver pods:

```bash
kubectl get pods -n {{ .Script.Namespace }}
```

## Configuration

### Customization

Edit `values.yaml` to customize the deployment. Key parameters:

- `driverRootPath` - driver root path

## Uninstallation

Using the uninstallation script:

```bash
chmod +x scripts/uninstall.sh
./scripts/uninstall.sh
```

Or manually:

```bash
helm uninstall dra-driver -n {{ .Script.Namespace }}
kubectl delete -f manifests/ --ignore-not-found=true
```

## Troubleshooting

### Check the dra driver logs

### Common Issues

## Support

- [NVIDIA k8s-dra-driver](https://github.com/NVIDIA/k8s-dra-driver)
- [Cloud Native Stack Repository](https://github.com/NVIDIA/cloud-native-stack)
