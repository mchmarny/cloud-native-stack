# Copyright (c) 2025, NVIDIA CORPORATION.  All rights reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Cloud Native Stack - Helm Umbrella Chart Values
# Generated: 2026-01-23T04:15:56-08:00
# Recipe Version: v0.22.0-next
# Bundler Version: v0.22.0-next
#
# This file contains configuration for all sub-charts.
# Each top-level key corresponds to a dependency in Chart.yaml.
# Set <component>.enabled=false to skip installing a component.
cert-manager:
    cainjector:
        resources:
            limits:
                cpu: 50m
                memory: 320Mi
            requests:
                cpu: 50m
                memory: 320Mi
    controller:
        nodeSelector:
            nodeGroup: system-pool
        tolerations:
            - operator: Exists
    enabled: true
    installCRDs: true
    prometheus:
        servicemonitor:
            enabled: true
    resources:
        limits:
            cpu: 50m
            memory: 90Mi
        requests:
            cpu: 50m
            memory: 90Mi
    webhook:
        resources:
            limits:
                cpu: 50m
                memory: 40Mi
            requests:
                cpu: 50m
                memory: 40Mi
gpu-operator:
    cdi:
        default: false
        enabled: true
    daemonsets:
        nodeSelector:
            nodeGroup: customer-gpu
        tolerations:
            - effect: NoSchedule
              key: nvidia.com/gpu
              operator: Equal
              value: present
    dcgm:
        enabled: true
    dcgmExporter:
        config:
            create: true
            name: dcgm-exporter
        serviceMonitor:
            enabled: true
            interval: 60s
    devicePlugin:
        env:
            - name: DP_DISABLE_HEALTHCHECKS
              value: "109"
            - name: DEVICE_LIST_STRATEGY
              value: volume-mounts
    driver:
        enabled: true
        kernelModuleConfig:
            name: kernel-module-params
        maxParallelUpgrades: 5
        rdma:
            enabled: true
        useOpenKernelModules: true
        version: 580.82.07
    enabled: true
    gdrcopy:
        enabled: true
        version: v2.5
    gfd:
        enabled: true
    hostPaths:
        driverInstallDir: /run/nvidia/driver
    migManager:
        enabled: true
    node-feature-discovery:
        gc:
            nodeSelector:
                nodeGroup: system-pool
            tolerations:
                - operator: Exists
        master:
            nodeSelector:
                nodeGroup: system-pool
            tolerations:
                - operator: Exists
        worker:
            nodeSelector:
                nodeGroup: customer-gpu
            tolerations:
                - effect: NoSchedule
                  key: nvidia.com/gpu
                  operator: Equal
                  value: present
    operator:
        nodeSelector:
            nodeGroup: system-pool
        resources:
            limits:
                cpu: 500m
                memory: 700Mi
            requests:
                cpu: 200m
                memory: 300Mi
        tolerations:
            - operator: Exists
        upgradeCRD: true
    toolkit:
        enabled: true
        env:
            - name: ACCEPT_NVIDIA_VISIBLE_DEVICES_ENVVAR_WHEN_UNPRIVILEGED
              value: "false"
            - name: ACCEPT_NVIDIA_VISIBLE_DEVICES_AS_VOLUME_MOUNTS
              value: "true"
nvidia-dra-driver-gpu:
    controller:
        priorityClassName: ""
    enabled: true
    gpuResourcesEnabledOverride: false
    kubeletPlugin:
        priorityClassName: ""
    namespaceOverride: gpu-operator
    nvidiaDriverRoot: /run/nvidia/driver
    resources:
        gpus:
            enabled: false
nvsentinel:
    enabled: true
    global: {}
    platformConnector:
        maxUnavailable: 1
        resources:
            limits:
                cpu: 200m
                memory: 512Mi
            requests:
                cpu: 200m
                memory: 512Mi
        updateStrategy: RollingUpdate
skyhook-operator:
    controllerManager:
        manager:
            resources:
                limits:
                    cpu: 1000m
                    memory: 4000Mi
                requests:
                    cpu: 1000m
                    memory: 2000Mi
    customization: ubuntu
    enabled: true
